# Collapse

## 代码演示

import { Button, Collapse, Divider } from '@youknown/react-ui/src'
import { useState } from 'react'

---

### 基本用法

export function BasicUsage() {
  return (
    <Collapse defaultActives={['1']}>
      <Collapse.Panel itemKey="1" title="Panel title1">
        <div className="p-8px color-#999">
          <p>Basic collapse</p>
        </div>
      </Collapse.Panel>
      <Collapse.Panel itemKey="2" title="Panel title2">
        <div className="p-8px color-#999">
          <p>Basic collapse</p>
        </div>
      </Collapse.Panel>
      <Collapse.Panel itemKey="3" title="Panel title3">
        <div className="p-8px color-#999">
          <p>Basic collapse</p>
        </div>
      </Collapse.Panel>
    </Collapse>
  )
}

<BasicUsage />

---

```tsx
import { Collapse } from '@youknown/react-ui'

export default () => {
  return (
    <Collapse defaultActives={['1']} onChange={console.log}>
      <Collapse.Panel itemKey="1" title="Panel title1">
        <div className="p-8px color-#999">
          <p>Basic collapse</p>
        </div>
      </Collapse.Panel>
      <Collapse.Panel itemKey="2" title="Panel title2">
        <div className="p-8px color-#999">
          <p>Basic collapse</p>
        </div>
      </Collapse.Panel>
      <Collapse.Panel itemKey="3" title="Panel title3">
        <div className="p-8px color-#999">
          <p>Basic collapse</p>
        </div>
      </Collapse.Panel>
    </Collapse>
  )
}
```

### 手风琴模式

export function CollapseAccordion() {
  return (
    <Collapse accordion>
      <Collapse.Panel itemKey="1" title="Panel title1">
        <div className="p-8px color-#999">
          <p>Accordion collapse</p>
        </div>
      </Collapse.Panel>
      <Collapse.Panel itemKey="2" title="Panel title2">
        <div className="p-8px color-#999">
          <p>Accordion collapse</p>
        </div>
      </Collapse.Panel>
      <Collapse.Panel itemKey="3" title="Panel title3">
        <div className="p-8px color-#999">
          <p>Accordion collapse</p>
        </div>
      </Collapse.Panel>
    </Collapse>
  )
}

<CollapseAccordion />

---

```tsx
import { Collapse } from '@youknown/react-ui'

export default () => {
  return (
    <Collapse accordion>
      <Collapse.Panel itemKey="1" title="Panel title1">
        <div className="p-8px color-#999">
          <p>Accordion collapse</p>
        </div>
      </Collapse.Panel>
      <Collapse.Panel itemKey="2" title="Panel title2">
        <div className="p-8px color-#999">
          <p>Accordion collapse</p>
        </div>
      </Collapse.Panel>
      <Collapse.Panel itemKey="3" title="Panel title3">
        <div className="p-8px color-#999">
          <p>Accordion collapse</p>
        </div>
      </Collapse.Panel>
    </Collapse>
  )
}
```

### 受控组件

export function Controlled() {
  const [actives, setActives] = useState([1])
  return (
    <>
      <Button onClick={() => setActives([])}>Fold all</Button>
      <Divider />
      <Collapse actives={actives} onChange={setActives}>
        <Collapse.Panel itemKey={1} title="Panel title1">
          <div className="p-8px color-#999">
            <p>Controlled collapse</p>
          </div>
        </Collapse.Panel>
        <Collapse.Panel itemKey={2} title="Panel title2">
          <div className="p-8px color-#999">
            <p>Controlled collapse</p>
          </div>
        </Collapse.Panel>
        <Collapse.Panel itemKey={3} title="Panel title3">
          <div className="p-8px color-#999">
            <p>Controlled collapse</p>
          </div>
        </Collapse.Panel>
      </Collapse>
    </>
  )
}

<Controlled />

---

```tsx
import { Button, Collapse, Divider } from '@youknown/react-ui'
import { useState } from 'react'

export default () => {
  const [actives, setActives] = useState<(string | number)[]>([1])
  return (
    <>
      <Button onClick={() => setActives([])}>Fold all</Button>
      <Divider />
      <Collapse actives={actives} onChange={setActives}>
        <Collapse.Panel itemKey={1} title="Panel title1">
          <div className="p-8px color-#999">
            <p>Controlled collapse</p>
          </div>
        </Collapse.Panel>
        <Collapse.Panel itemKey={2} title="Panel title2">
          <div className="p-8px color-#999">
            <p>Controlled collapse</p>
          </div>
        </Collapse.Panel>
        <Collapse.Panel itemKey={3} title="Panel title3">
          <div className="p-8px color-#999">
            <p>Controlled collapse</p>
          </div>
        </Collapse.Panel>
      </Collapse>
    </>
  )
}
```

### 自定义折叠

export function CollapseCustom() {
  const [expand, setExpand] = useState(false)
  return (
    <Collapse.Panel
      bordered={false}
      custom={
        <Button
          onClick={() => {
            setExpand(p => !p)
          }}
        >
          Toggle collapse
        </Button>
      }
      expand={expand}
    >
      <div className="p-8px color-#999">
        <p>
          min-height: 0px !important; max-height: none !important; height: 0px !important; visibility: hidden
          !important; overflow: hidden !important; position: absolute !important; z-index: -1000 !important; top: 0px
          !important; right: 0px !important; border-width: 0px; box-sizing: border-box; font-family: -apple-system,
          BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica
          Neue", sans-serif; font-size: 14px; font-style: normal; font-weight: 400; letter-spacing: normal; line-height:
          23.1px; padding: 0px 4px; tab-size: 8; text-indent: 0px; text-rendering: auto; text-transform: none; width:
          240px; word-break: normal;
        </p>
      </div>
    </Collapse.Panel>
  )
}

<CollapseCustom />

---

```tsx
import { Button, Collapse } from '@youknown/react-ui'
import { useState } from 'react'

export default () => {
  const [expand, setExpand] = useState(false)
  return (
    <Collapse.Panel
      bordered={false}
      custom={
        <Button
          onClick={() => {
            setExpand(p => !p)
          }}
        >
          Toggle collapse
        </Button>
      }
      expand={expand}
    >
      <div className="p-8px color-#999">
        <p>
          min-height: 0px !important; max-height: none !important; height: 0px !important; visibility: hidden
          !important; overflow: hidden !important; position: absolute !important; z-index: -1000 !important; top: 0px
          !important; right: 0px !important; border-width: 0px; box-sizing: border-box; font-family: -apple-system,
          BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica
          Neue", sans-serif; font-size: 14px; font-style: normal; font-weight: 400; letter-spacing: normal; line-height:
          23.1px; padding: 0px 4px; tab-size: 8; text-indent: 0px; text-rendering: auto; text-transform: none; width:
          240px; word-break: normal;
        </p>
      </div>
    </Collapse.Panel>
  )
}
```

## API

### Collapse Props

| 属性           | 说明           | 类型                                      | 默认值  |
| -------------- | -------------- | ----------------------------------------- | ------- |
| accordion      | 手风琴模式     | `boolean`                                 | `false` |
| defaultActives | 默认值         | `(string \| number)[]`                    | `[]`    |
| actives        | 激活列表       | `(string \| number)[]`                    | -       |
| onChange       | 值变化事件回调 | `(actives: (string \| number)[]) => void` | -       |

### Collapse Panel Props

| 属性          | 说明           | 类型                        | 默认值  |
| ------------- | -------------- | --------------------------- | ------- | --- |
| itemKey       | key            | `string                     | number` | -   |
| custom        | 自定义元素     | `React.ReactNode`           | -       |
| title         | 标题           | `React.ReactNode`           | -       |
| bordered      | 是否带边框     | `boolean`                   | `false` |
| mountOnEnter  | 是否展开时挂载 | `boolean`                   | `true`  |
| unmountOnExit | 是否折叠时销毁 | `boolean`                   | `false` |
| expand        | 是否展开       | `boolean`                   | `false` |
| onChange      | 值变化事件回调 | `(expand: boolean) => void` | -       |
